var documenterSearchIndex = {"docs":
[{"location":"api/#API-Documentation","page":"API","title":"API Documentation","text":"","category":"section"},{"location":"api/#Portfolio-analytics","page":"API","title":"Portfolio analytics","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"CurrentModule = OnlinePortfolioAnalytics","category":"page"},{"location":"api/#Modules","page":"API","title":"Modules","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"OnlinePortfolioAnalytics.OnlinePortfolioAnalytics","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.OnlinePortfolioAnalytics","page":"API","title":"OnlinePortfolioAnalytics.OnlinePortfolioAnalytics","text":"OnlinePortfolioAnalytics provides streaming portfolio analytics using online algorithms that process data incrementally without storing the full history.\n\nFeatures\n\nReturn Calculations: SimpleAssetReturn, LogAssetReturn, CumulativeReturn, AnnualizedReturn\nMean Returns: ArithmeticMeanReturn, GeometricMeanReturn\nVolatility: StdDev, DownsideDeviation, UpsideDeviation\nDrawdown Analysis: DrawDowns, ArithmeticDrawDowns, MaxDrawDown, MaxArithmeticDrawDown\nRisk-Adjusted Returns: Sharpe, Sortino, Calmar, Omega\nCAPM Metrics: Beta, ExpectedReturn, Treynor, JensenAlpha\nRelative Performance: TrackingError, InformationRatio\nRisk Metrics: VaR, ExpectedShortfall\nStatistical Moments: AssetReturnMoments\n\nUsage\n\nAll types implement the OnlineStatsBase interface:\n\nusing OnlinePortfolioAnalytics\n\n# Create a statistic\nstat = Sharpe{Float64}()\n\n# Feed observations one at a time\nfor return_value in returns\n    fit!(stat, return_value)\nend\n\n# Get current value\nresult = value(stat)\n\nFor metrics requiring paired asset/benchmark data, use AssetBenchmarkReturn:\n\nstat = Beta{Float64}()\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Asset +5%, Market +3%\nvalue(stat)\n\n\n\nMIT License\n\nCopyright (c) 2024 FemtoTrader <femto.trader@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\n\n\n","category":"module"},{"location":"api/#Functions","page":"API","title":"Functions","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"OnlineStats.fit! Base.empty!","category":"page"},{"location":"api/#Asset-return","page":"API","title":"Asset return","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"SimpleAssetReturn\nLogAssetReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.SimpleAssetReturn","page":"API","title":"OnlinePortfolioAnalytics.SimpleAssetReturn","text":"mutable struct SimpleAssetReturn{T} <: OnlinePortfolioAnalytics.AssetReturn{T}\n\nSimpleAssetReturn{T}(; period::Int = 1)\n\nCalculate simple (arithmetic) returns from a stream of price observations.\n\nSimple returns measure the percentage change in price between two periods using the formula (Pt - P{t-k}) / P_{t-k}, where k is the period.\n\nMathematical Definition\n\nR_t = fracP_t - P_t-kP_t-k\n\nWhere:\n\nP_t = price at time t\nP_t-k = price k periods ago\nk = period (default: 1)\n\nParameters\n\nperiod: Number of periods for return calculation (default: 1)\n\nEdge Cases\n\nReturns missing until period + 1 observations have been received\nReturns missing if price at t-k is zero (division by zero avoided)\n\nFields\n\nvalue::Union{Missing,T}: Current return value\nn::Int: Number of observations\nperiod::Int: Return calculation period\n\nExample\n\nstat = SimpleAssetReturn{Float64}()\nfit!(stat, 100.0)  # First price observation\nfit!(stat, 110.0)  # Second price observation\nvalue(stat)        # Returns 0.1 (10% return)\n\nSee also: LogAssetReturn, CumulativeReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.LogAssetReturn","page":"API","title":"OnlinePortfolioAnalytics.LogAssetReturn","text":"mutable struct LogAssetReturn{T} <: OnlinePortfolioAnalytics.AssetReturn{T}\n\nLogAssetReturn{T}(; period::Int = 1)\n\nCalculate logarithmic (continuously compounded) returns from a stream of price observations.\n\nLog returns are additive across time periods and are commonly used in financial modeling because they have better statistical properties than simple returns.\n\nMathematical Definition\n\nR_t = lnleft(fracP_tP_t-kright)\n\nWhere:\n\nP_t = price at time t\nP_t-k = price k periods ago\nk = period (default: 1)\nln = natural logarithm\n\nParameters\n\nperiod: Number of periods for return calculation (default: 1)\n\nEdge Cases\n\nReturns missing until period + 1 observations have been received\nUndefined behavior if price at t-k is zero or negative\n\nFields\n\nvalue::Union{Missing,T}: Current return value\nn::Int: Number of observations\nperiod::Int: Return calculation period\n\nExample\n\nstat = LogAssetReturn{Float64}()\nfit!(stat, 100.0)  # First price observation\nfit!(stat, 110.0)  # Second price observation\nvalue(stat)        # Returns ~0.0953 (log return)\n\nSee also: SimpleAssetReturn, CumulativeReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Mean-return","page":"API","title":"Mean return","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"ArithmeticMeanReturn\nGeometricMeanReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.ArithmeticMeanReturn","page":"API","title":"OnlinePortfolioAnalytics.ArithmeticMeanReturn","text":"mutable struct ArithmeticMeanReturn{T} <: OnlinePortfolioAnalytics.AbstractMeanReturn{T}\n\nArithmeticMeanReturn{T}()\n\nCalculate the arithmetic mean of returns from a stream of observations.\n\nThe arithmetic mean is the simple average of all returns. It is commonly used for short-term performance analysis but can overestimate long-term growth.\n\nMathematical Definition\n\nbarR = frac1nsum_i=1^n R_i\n\nWhere:\n\nR_i = return for period i\nn = number of observations\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\n\nFields\n\nvalue::T: Current mean return\nn::Int: Number of observations\nsum::Sum: Internal sum tracker\n\nExample\n\nstat = ArithmeticMeanReturn{Float64}()\nfit!(stat, 0.05)   # 5% return\nfit!(stat, -0.02)  # -2% return\nfit!(stat, 0.03)   # 3% return\nvalue(stat)        # Returns 0.02 (2% average)\n\nSee also: GeometricMeanReturn, StdDev\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.GeometricMeanReturn","page":"API","title":"OnlinePortfolioAnalytics.GeometricMeanReturn","text":"mutable struct GeometricMeanReturn{T} <: OnlinePortfolioAnalytics.AbstractMeanReturn{T}\n\nGeometricMeanReturn{T}()\n\nCalculate the geometric mean of returns from a stream of observations.\n\nThe geometric mean accounts for compounding and provides a better measure of long-term average return than arithmetic mean. It represents the constant return rate that would produce the same final value.\n\nMathematical Definition\n\nG = left(prod_i=1^n(1+R_i)right)^1n - 1\n\nWhere:\n\nR_i = return for period i\nn = number of observations\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns -1.0 if cumulative product becomes zero\n\nFields\n\nvalue::T: Current geometric mean return\nn::Int: Number of observations\nprod::Prod: Internal product tracker\n\nExample\n\nstat = GeometricMeanReturn{Float64}()\nfit!(stat, 0.10)   # 10% return\nfit!(stat, -0.05)  # -5% return\nfit!(stat, 0.08)   # 8% return\nvalue(stat)        # Geometric mean return\n\nSee also: ArithmeticMeanReturn, CumulativeReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Cumulative-return","page":"API","title":"Cumulative return","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"CumulativeReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.CumulativeReturn","page":"API","title":"OnlinePortfolioAnalytics.CumulativeReturn","text":"mutable struct CumulativeReturn{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nCumulativeReturn{T}()\n\nCalculate the cumulative (total) return from a stream of periodic returns.\n\nCumulative return represents the total growth factor of an investment over the entire observation period using geometric compounding.\n\nMathematical Definition\n\nC = prod_i=1^n(1+R_i)\n\nWhere:\n\nR_i = return for period i\nn = number of observations\n\nNote: The value represents the growth factor, not the percentage return. Subtract 1 to get the percentage cumulative return.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns the running product as observations are added\n\nFields\n\nvalue::T: Current cumulative growth factor\nn::Int: Number of observations\nprod::Prod: Internal product tracker\n\nExample\n\nstat = CumulativeReturn{Float64}()\nfit!(stat, 0.10)   # 10% return\nfit!(stat, -0.05)  # -5% return\nfit!(stat, 0.03)   # 3% return\nvalue(stat)        # Cumulative growth factor (e.g., 1.0785)\n# Percentage return: value(stat) - 1 = 0.0785 (7.85%)\n\nSee also: AnnualizedReturn, DrawDowns, GeometricMeanReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Standard-deviation","page":"API","title":"Standard deviation","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"StdDev","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.StdDev","page":"API","title":"OnlinePortfolioAnalytics.StdDev","text":"mutable struct StdDev{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nStdDev{T}()\n\nCalculate the sample standard deviation of returns from a stream of observations.\n\nStandard deviation measures the volatility or dispersion of returns around the mean. It is a fundamental risk measure in portfolio analysis.\n\nMathematical Definition\n\nsigma = sqrtfrac1n-1sum_i=1^n(R_i - barR)^2\n\nWhere:\n\nR_i = return for period i\nbarR = mean return\nn = number of observations\n\nEdge Cases\n\nReturns 1.0 when no observations (initial value)\nReturns 0.0 when only one observation (no variance)\n\nFields\n\nvalue::T: Current standard deviation\nn::Int: Number of observations\nvariance::Variance: Internal variance tracker\n\nExample\n\nstat = StdDev{Float64}()\nfit!(stat, 0.05)   # 5% return\nfit!(stat, -0.02)  # -2% return\nfit!(stat, 0.03)   # 3% return\nvalue(stat)        # Standard deviation of returns\n\nSee also: ArithmeticMeanReturn, Sharpe\n\n\n\n\n\n","category":"type"},{"location":"api/#Drawdowns","page":"API","title":"Drawdowns","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"DrawDowns\nArithmeticDrawDowns","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.DrawDowns","page":"API","title":"OnlinePortfolioAnalytics.DrawDowns","text":"mutable struct DrawDowns{T} <: OnlinePortfolioAnalytics.AbstractDrawDowns{T}\n\nDrawDowns{T}()\n\nCalculate the current drawdown from a stream of returns using the geometric method.\n\nDrawdown measures the percentage decline from the peak cumulative return to the current cumulative return. This implementation uses geometric compounding where cumulative returns are computed as the product of (1 + return).\n\nMathematical Definition\n\nFor a sequence of returns r₁, r₂, ..., rₙ:\n\nCumulative return at time t: C_t = prod_i=1^t(1+R_i)\nRunning peak at time t: P_t = max(C_1 C_2  C_t)\nDrawdown at time t: D_t = fracC_tP_t - 1\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns 0.0 at new peaks (no drawdown)\nReturns negative values during drawdown periods\n\nFields\n\nvalue::T: Current drawdown value (negative or zero)\nn::Int: Number of observations\nprod::Prod: Internal cumulative return tracker\nextrema::Extrema: Internal peak tracker\n\nExample\n\nstat = DrawDowns{Float64}()\nfit!(stat, 0.10)   # 10% gain - new peak\nfit!(stat, -0.05)  # 5% loss - in drawdown\nfit!(stat, -0.03)  # 3% loss - deeper drawdown\nvalue(stat)        # Current drawdown (negative value)\n\nSee also: ArithmeticDrawDowns, MaxDrawDown\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.ArithmeticDrawDowns","page":"API","title":"OnlinePortfolioAnalytics.ArithmeticDrawDowns","text":"mutable struct ArithmeticDrawDowns{T} <: OnlinePortfolioAnalytics.AbstractDrawDowns{T}\n\nArithmeticDrawDowns{T}()\n\nCalculate the current drawdown from a stream of returns using the arithmetic method.\n\nDrawdown measures the percentage decline from the peak cumulative return to the current cumulative return. This implementation uses arithmetic compounding where cumulative returns are computed as the sum of returns.\n\nMathematical Definition\n\nFor a sequence of returns r₁, r₂, ..., rₙ:\n\nCumulative return at time t: C_t = 1 + sum_i=1^t R_i\nRunning peak at time t: P_t = max(C_1 C_2  C_t)\nDrawdown at time t: D_t = fracC_tP_t - 1\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns 0.0 at new peaks (no drawdown)\nReturns negative values during drawdown periods\n\nFields\n\nvalue::T: Current drawdown value (negative or zero)\nn::Int: Number of observations\nsum::Sum: Internal cumulative return tracker\nextrema::Extrema: Internal peak tracker\n\nExample\n\nstat = ArithmeticDrawDowns{Float64}()\nfit!(stat, 0.10)   # 10% gain - new peak\nfit!(stat, -0.05)  # 5% loss - in drawdown\nfit!(stat, -0.03)  # 3% loss - deeper drawdown\nvalue(stat)        # Current drawdown (negative value)\n\nSee also: DrawDowns, MaxArithmeticDrawDown\n\n\n\n\n\n","category":"type"},{"location":"api/#Maximum-Drawdown","page":"API","title":"Maximum Drawdown","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"AbstractMaxDrawDown\nMaxDrawDown\nMaxArithmeticDrawDown","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.AbstractMaxDrawDown","page":"API","title":"OnlinePortfolioAnalytics.AbstractMaxDrawDown","text":"Abstract supertype for maximum drawdown statistics. Subtypes: MaxDrawDown (geometric), MaxArithmeticDrawDown (arithmetic)\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.MaxDrawDown","page":"API","title":"OnlinePortfolioAnalytics.MaxDrawDown","text":"mutable struct MaxDrawDown{T} <: OnlinePortfolioAnalytics.AbstractMaxDrawDown{T}\n\nMaxDrawDown{T}()\n\nTrack the maximum (worst) peak-to-trough decline using geometric return compounding.\n\nMaximum drawdown is the largest percentage decline from a cumulative return peak to a subsequent trough. This implementation uses the geometric method where cumulative returns are computed as the product of (1 + return).\n\nThe value returns the most negative drawdown observed, following industry convention where \"maximum drawdown\" refers to the largest decline magnitude.\n\nMathematical Definition\n\nFor a sequence of returns r₁, r₂, ..., rₙ:\n\nCumulative return at time t: Cₜ = ∏ᵢ₌₁ᵗ (1 + rᵢ)\nRunning peak at time t: Pₜ = max(C₁, C₂, ..., Cₜ)\nDrawdown at time t: Dₜ = Cₜ / Pₜ - 1\nMaximum drawdown: min(D₁, D₂, ..., Dₙ)\n\nExample\n\nstat = MaxDrawDown{Float64}()\nfit!(stat, 0.10)   # 10% gain\nfit!(stat, -0.05)  # 5% loss\nfit!(stat, -0.15)  # 15% loss\nvalue(stat)        # Returns most negative drawdown observed (e.g., -0.19)\n\nReferences\n\nempyrical (Python): max_drawdown() returns negative value\nPerformanceAnalytics (R): maxDrawdown() returns positive magnitude\n\nSee also: MaxArithmeticDrawDown, DrawDowns\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.MaxArithmeticDrawDown","page":"API","title":"OnlinePortfolioAnalytics.MaxArithmeticDrawDown","text":"mutable struct MaxArithmeticDrawDown{T} <: OnlinePortfolioAnalytics.AbstractMaxDrawDown{T}\n\nMaxArithmeticDrawDown{T}()\n\nTrack the maximum (worst) peak-to-trough decline using arithmetic return compounding.\n\nThis implementation uses the arithmetic method where cumulative returns are computed as the sum of returns, suitable for simple (non-compounding) returns.\n\nThe value returns the most negative drawdown observed, following industry convention where \"maximum drawdown\" refers to the largest decline magnitude.\n\nMathematical Definition\n\nFor a sequence of returns r₁, r₂, ..., rₙ:\n\nCumulative return at time t: Cₜ = 1 + Σᵢ₌₁ᵗ rᵢ\nRunning peak at time t: Pₜ = max(C₁, C₂, ..., Cₜ)\nDrawdown at time t: Dₜ = Cₜ / Pₜ - 1\nMaximum drawdown: min(D₁, D₂, ..., Dₙ)\n\nExample\n\nstat = MaxArithmeticDrawDown{Float64}()\nfit!(stat, 0.10)   # 10% gain\nfit!(stat, -0.05)  # 5% loss\nvalue(stat)        # Returns most negative drawdown observed\n\nSee also: MaxDrawDown, ArithmeticDrawDowns\n\n\n\n\n\n","category":"type"},{"location":"api/#Statistical-moments","page":"API","title":"Statistical moments","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"AssetReturnMoments","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.AssetReturnMoments","page":"API","title":"OnlinePortfolioAnalytics.AssetReturnMoments","text":"mutable struct AssetReturnMoments{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsMultiOutput{T}\n\nAssetReturnMoments{T}()\n\nCalculate the first four statistical moments of returns from a stream of observations.\n\nThis type computes mean, standard deviation, skewness, and kurtosis simultaneously, providing a complete statistical profile of the return distribution. The output is a NamedTuple with fields :mean, :std, :skewness, and :kurtosis.\n\nMathematical Definition\n\nMean: barR = frac1nsum_i=1^n R_i\nStandard deviation: sigma = sqrtfrac1n-1sum_i=1^n(R_i - barR)^2\nSkewness: gamma_1 = fracfrac1nsum_i=1^n(R_i - barR)^3sigma^3\nKurtosis: gamma_2 = fracfrac1nsum_i=1^n(R_i - barR)^4sigma^4 - 3 (excess kurtosis)\n\nEdge Cases\n\nReturns (mean=0.0, std=0.0, skewness=0.0, kurtosis=0.0) when no observations\nSkewness and kurtosis require at least 3-4 observations for meaningful values\n\nFields\n\nvalue::NamedTuple: Current moments as (mean, std, skewness, kurtosis)\nn::Int: Number of observations\nmoments::Moments: Internal moments tracker\n\nExample\n\nstat = AssetReturnMoments{Float64}()\nfit!(stat, 0.05)\nfit!(stat, -0.02)\nfit!(stat, 0.03)\nfit!(stat, -0.01)\nm = value(stat)\nm.mean      # Mean return\nm.std       # Standard deviation\nm.skewness  # Skewness\nm.kurtosis  # Excess kurtosis\n\nSee also: ArithmeticMeanReturn, StdDev\n\n\n\n\n\n","category":"type"},{"location":"api/#Sharpe-ratio","page":"API","title":"Sharpe ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Sharpe","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Sharpe","page":"API","title":"OnlinePortfolioAnalytics.Sharpe","text":"mutable struct Sharpe{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nSharpe{T}(; period=252, risk_free=0)\n\nCalculate the Sharpe ratio from a stream of periodic returns.\n\nThe Sharpe ratio measures risk-adjusted performance by dividing excess return (above risk-free rate) by volatility. Higher values indicate better risk-adjusted returns.\n\nMathematical Definition\n\nS = sqrtT times fracER - r_fsigma\n\nWhere:\n\nER = expected (mean) return\nr_f = risk-free rate\nsigma = standard deviation of returns\nT = annualization period\n\nParameters\n\nperiod: Annualization factor (default: 252)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\nHourly: 252 × 6.5\nrisk_free: Risk-free rate per period (default: 0)\n\nEdge Cases\n\nReturns NaN when standard deviation is zero (all returns identical)\nReturns 0.0 when no observations\n\nFields\n\nvalue::T: Current Sharpe ratio\nn::Int: Number of observations\nmean::Mean: Internal mean tracker\nstddev::StdDev: Internal standard deviation tracker\nperiod::Int: Annualization factor\nrisk_free::T: Risk-free rate\n\nExample\n\nstat = Sharpe{Float64}(period=252, risk_free=0.0)\nfit!(stat, 0.02)   # 2% return\nfit!(stat, -0.01)  # -1% return\nfit!(stat, 0.03)   # 3% return\nvalue(stat)        # Annualized Sharpe ratio\n\nSee also: Sortino, Treynor, Omega\n\n\n\n\n\n","category":"type"},{"location":"api/#Sortino-ratio","page":"API","title":"Sortino ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Sortino","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Sortino","page":"API","title":"OnlinePortfolioAnalytics.Sortino","text":"mutable struct Sortino{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nSortino{T}(; period=252, risk_free=0)\n\nCalculate the Sortino ratio from a stream of periodic returns.\n\nThe Sortino ratio is similar to the Sharpe ratio but uses only downside deviation (volatility of negative returns) in the denominator, making it more appropriate for asymmetric return distributions.\n\nMathematical Definition\n\nSo = sqrtT times fracER - r_fsigma_down\n\nWhere:\n\nER = expected (mean) return\nr_f = risk-free rate\nsigma_down = standard deviation of negative returns only\nT = annualization period\n\nParameters\n\nperiod: Annualization factor (default: 252)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\nHourly: 252 × 6.5\nrisk_free: Risk-free rate per period (default: 0)\n\nEdge Cases\n\nReturns NaN or Inf when downside deviation is zero (no negative returns)\nReturns 0.0 when no observations\n\nFields\n\nvalue::T: Current Sortino ratio\nn::Int: Number of observations\nmean_ret::Mean: Internal mean return tracker\nstddev_neg_ret::StdDev: Internal downside deviation tracker\nperiod::Int: Annualization factor\nrisk_free::T: Risk-free rate\n\nExample\n\nstat = Sortino{Float64}(period=252, risk_free=0.0)\nfit!(stat, 0.02)   # 2% return (positive, not included in downside)\nfit!(stat, -0.01)  # -1% return (negative, included in downside)\nfit!(stat, 0.03)   # 3% return\nvalue(stat)        # Annualized Sortino ratio\n\nSee also: Sharpe, DownsideDeviation, Calmar\n\n\n\n\n\n","category":"type"},{"location":"api/#Annualized-return","page":"API","title":"Annualized return","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"AnnualizedReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.AnnualizedReturn","page":"API","title":"OnlinePortfolioAnalytics.AnnualizedReturn","text":"mutable struct AnnualizedReturn{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nAnnualizedReturn{T}(; period=252)\n\nCalculate annualized return (CAGR - Compound Annual Growth Rate) from a stream of periodic returns using geometric compounding.\n\nMathematical Definition\n\nFor a sequence of returns r₁, r₂, ..., rₙ:\n\nCumulative return: C = ∏ᵢ₌₁ⁿ (1 + rᵢ)\nAnnualized return: (C)^(period/n) - 1\n\nThis is equivalent to the CAGR (Compound Annual Growth Rate) formula.\n\nParameters\n\nperiod: Annualization factor (default 252 for daily returns)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\nHourly: 252 × 6.5\n\nFields\n\nvalue::T: Current annualized return\nn::Int: Number of observations\nprod::Prod{T}: Internal product tracker for cumulative return\nperiod::Int: Annualization factor\n\nExample\n\nstat = AnnualizedReturn()\nfit!(stat, 0.01)   # 1% daily return\nfit!(stat, 0.02)   # 2% daily return\nfit!(stat, -0.01)  # -1% daily return\nvalue(stat)        # Annualized return\n\nSee also: Calmar, CumulativeReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Calmar-ratio","page":"API","title":"Calmar ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Calmar","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Calmar","page":"API","title":"OnlinePortfolioAnalytics.Calmar","text":"mutable struct Calmar{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nCalmar{T}(; period=252)\n\nCalculate the Calmar ratio from a stream of periodic returns.\n\nThe Calmar ratio measures risk-adjusted performance by dividing the annualized return by the absolute value of the maximum drawdown.\n\nMathematical Definition\n\ntextCalmar = fractextAnnualizedReturntextMaxDrawDown\n\nWhere:\n\nAnnualizedReturn is the CAGR (Compound Annual Growth Rate)\nMaxDrawDown is the worst peak-to-trough decline (negative value)\n\nParameters\n\nperiod: Annualization factor (default 252 for daily returns)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\n\nFields\n\nvalue::T: Current Calmar ratio\nn::Int: Number of observations\nannualized_return::AnnualizedReturn{T}: Internal annualized return tracker\nmax_drawdown::MaxDrawDown{T}: Internal max drawdown tracker\nperiod::Int: Annualization factor\n\nEdge Cases\n\nReturns Inf when max drawdown is zero (all positive returns)\nReturns 0.0 when no observations have been made\n\nExample\n\nstat = Calmar()\nfit!(stat, 0.05)   # 5% gain\nfit!(stat, -0.03)  # 3% loss\nfit!(stat, 0.02)   # 2% gain\nvalue(stat)        # Calmar ratio\n\nSee also: AnnualizedReturn, MaxDrawDown, Sharpe\n\n\n\n\n\n","category":"type"},{"location":"api/#Beta","page":"API","title":"Beta","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Beta","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Beta","page":"API","title":"OnlinePortfolioAnalytics.Beta","text":"mutable struct Beta{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nBeta{T}()\n\nCalculate the beta coefficient (systematic risk) from paired asset/market returns.\n\nBeta measures how an asset moves relative to a market benchmark. A beta of 1.0 means the asset moves with the market; beta > 1 means more volatile than market; beta < 1 means less volatile; negative beta means inverse correlation.\n\nMathematical Definition\n\nbeta = fractextCov(R_a R_m)textVar(R_m)\n\nWhere:\n\nR_a = asset returns\nR_m = market returns\nCov = covariance\nVar = variance\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient data)\nReturns 0.0 when market variance is zero (avoid division by zero)\n\nFields\n\nvalue::T: Current beta value\nn::Int: Number of observations\ncov_matrix::CovMatrix: Internal 2x2 covariance matrix tracker\n\nExample\n\nstat = Beta()\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Asset +5%, Market +3%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.01))  # Asset +2%, Market +1%\nfit!(stat, AssetBenchmarkReturn(-0.01, -0.02)) # Asset -1%, Market -2%\nvalue(stat)  # Beta coefficient\n\nSee also: AssetBenchmarkReturn, ExpectedReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Expected-return-(CAPM)","page":"API","title":"Expected return (CAPM)","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"ExpectedReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.ExpectedReturn","page":"API","title":"OnlinePortfolioAnalytics.ExpectedReturn","text":"mutable struct ExpectedReturn{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nExpectedReturn{T}(; risk_free=0.0)\n\nCalculate the CAPM (Capital Asset Pricing Model) expected return from paired asset/market returns.\n\nThe expected return represents the theoretical return an asset should earn based on its systematic risk (beta) relative to the market.\n\nMathematical Definition\n\nER_a = r_f + beta times (ER_m - r_f)\n\nWhere:\n\nER_a = expected return of the asset\nr_f = risk-free rate\nbeta = beta coefficient (systematic risk)\nER_m = expected market return (mean)\n\nParameters\n\nrisk_free: Risk-free rate of return (default 0.0)\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns risk_free when fewer than 2 observations (insufficient data for beta)\n\nFields\n\nvalue::T: Current expected return\nn::Int: Number of observations\nbeta::Beta{T}: Internal beta tracker\nrisk_free::T: Risk-free rate\n\nExample\n\nstat = ExpectedReturn(risk_free=0.02)  # 2% risk-free rate\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Asset +5%, Market +3%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.01))  # Asset +2%, Market +1%\nvalue(stat)  # CAPM expected return\n\nSee also: AssetBenchmarkReturn, Beta\n\n\n\n\n\n","category":"type"},{"location":"api/#Value-at-Risk-(VaR)","page":"API","title":"Value at Risk (VaR)","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"VaR","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.VaR","page":"API","title":"OnlinePortfolioAnalytics.VaR","text":"mutable struct VaR{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nVaR{T}(; confidence=0.95, b=500)\n\nCalculate Value at Risk (VaR) from a stream of returns using online quantile estimation.\n\nVaR measures the potential loss at a given confidence level. For example, a 95% VaR of -0.05 means there is a 5% chance of losing more than 5% of the portfolio value.\n\nMathematical Definition\n\ntextVaR_alpha = textQuantile_1-alpha(R)\n\nWhere:\n\nalpha = confidence level (e.g., 0.95 for 95% VaR)\nR = return distribution\nThe result is the (1-alpha) percentile of returns\n\nParameters\n\nconfidence: Confidence level (default 0.95 for 95% VaR)\nb: Number of histogram bins for quantile estimation (default 500)\n\nInput Type\n\nAccepts single return values (Number) via fit!.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\n\nFields\n\nvalue::T: Current VaR value\nn::Int: Number of observations\nquantile::Quantile: Internal quantile tracker\nconfidence::Float64: Confidence level\n\nExample\n\nstat = VaR(confidence=0.95)\nfor ret in returns\n    fit!(stat, ret)\nend\nvar_95 = value(stat)  # 5th percentile loss\n\nSee also: ExpectedShortfall\n\n\n\n\n\n","category":"type"},{"location":"api/#Expected-Shortfall-(CVaR)","page":"API","title":"Expected Shortfall (CVaR)","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"ExpectedShortfall","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.ExpectedShortfall","page":"API","title":"OnlinePortfolioAnalytics.ExpectedShortfall","text":"mutable struct ExpectedShortfall{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nExpectedShortfall{T}(; confidence=0.95)\n\nCalculate Expected Shortfall (CVaR/ES) from a stream of returns.\n\nExpected Shortfall measures the average loss in the tail beyond the VaR threshold. Also known as Conditional VaR (CVaR) or Average Value at Risk (AVaR). It is considered a more coherent risk measure than VaR.\n\nMathematical Definition\n\ntextES_alpha = ER  R leq textVaR_alpha\n\nWhere:\n\nalpha = confidence level (e.g., 0.95 for 95% ES)\nR = return distribution\nES is the conditional expectation of returns below VaR\n\nParameters\n\nconfidence: Confidence level (default 0.95 for 95% ES)\n\nInput Type\n\nAccepts single return values (Number) via fit!.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns VaR value when no observations below threshold\n\nFields\n\nvalue::T: Current ES value\nn::Int: Number of observations\nsum_below::T: Sum of returns at or below VaR threshold\ncount_below::Int: Count of returns at or below VaR\nvar_threshold::T: Current VaR estimate used as threshold\nconfidence::Float64: Confidence level\n\nExample\n\nstat = ExpectedShortfall(confidence=0.95)\nfor ret in returns\n    fit!(stat, ret)\nend\nes_95 = value(stat)  # Average of worst 5% returns\n\nSee also: VaR\n\n\n\n\n\n","category":"type"},{"location":"api/#Treynor-ratio","page":"API","title":"Treynor ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Treynor","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Treynor","page":"API","title":"OnlinePortfolioAnalytics.Treynor","text":"mutable struct Treynor{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nTreynor{T}(; risk_free=0.0)\n\nCalculate Treynor Ratio from paired asset/market returns.\n\nTreynor Ratio measures the excess return per unit of systematic risk (beta). Unlike Sharpe Ratio which uses total risk, Treynor uses only market-related risk.\n\nMathematical Definition\n\ntextTreynor = fracER_a - r_fbeta\n\nWhere:\n\nR_a = asset returns\nr_f = risk-free rate\nbeta = systematic risk (from CAPM)\n\nParameters\n\nrisk_free: Risk-free rate (default 0.0)\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient for beta)\nReturns Inf or -Inf when beta is zero (division by zero)\n\nFields\n\nvalue::T: Current Treynor ratio\nn::Int: Number of observations\nbeta::Beta{T}: Internal beta tracker\nasset_mean::Mean: Mean asset return tracker\nrisk_free::T: Risk-free rate\n\nExample\n\nstat = Treynor(risk_free=0.02)\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Asset +5%, Market +3%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.01))  # Asset +2%, Market +1%\nvalue(stat)  # (mean_return - rf) / beta\n\nSee also: AssetBenchmarkReturn, Beta, Sharpe\n\n\n\n\n\n","category":"type"},{"location":"api/#Information-ratio","page":"API","title":"Information ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"InformationRatio","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.InformationRatio","page":"API","title":"OnlinePortfolioAnalytics.InformationRatio","text":"mutable struct InformationRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nInformationRatio{T}()\n\nCalculate Information Ratio from paired asset/benchmark returns.\n\nInformation Ratio measures the excess return of an asset relative to its benchmark, adjusted for the tracking error. It is a key metric for evaluating active management skill.\n\nMathematical Definition\n\ntextIR = fracER_a - R_bsigma(R_a - R_b) = fractextMean Excess ReturntextTracking Error\n\nWhere:\n\nR_a = asset/portfolio returns\nR_b = benchmark returns\nE = expected value (mean)\nsigma = standard deviation\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient for TE)\nReturns 0.0 when tracking error is zero (perfect tracking)\n\nFields\n\nvalue::T: Current IR value\nn::Int: Number of observations\nexcess_mean::Mean: Tracker for mean excess return\ntracking_error::TrackingError{T}: Tracker for tracking error\n\nExample\n\nstat = InformationRatio()\nfit!(stat, AssetBenchmarkReturn(0.05, 0.04))  # Asset +5%, Benchmark +4%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.03))  # Asset +2%, Benchmark +3%\nfit!(stat, AssetBenchmarkReturn(-0.01, -0.02)) # Asset -1%, Benchmark -2%\nvalue(stat)  # Mean(excess) / TrackingError\n\nSee also: AssetBenchmarkReturn, TrackingError\n\n\n\n\n\n","category":"type"},{"location":"api/#Tracking-error","page":"API","title":"Tracking error","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"TrackingError","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.TrackingError","page":"API","title":"OnlinePortfolioAnalytics.TrackingError","text":"mutable struct TrackingError{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nTrackingError{T}()\n\nCalculate Tracking Error from paired asset/benchmark returns.\n\nTracking Error measures how closely a portfolio follows its benchmark by computing the standard deviation of the difference between asset and benchmark returns.\n\nMathematical Definition\n\ntextTE = sigma(R_a - R_b)\n\nWhere:\n\nR_a = asset/portfolio returns\nR_b = benchmark returns\nsigma = standard deviation\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient for std dev)\nReturns 0.0 for perfect tracking (identical returns)\n\nFields\n\nvalue::T: Current tracking error value\nn::Int: Number of observations\ndiff_variance::Variance: Internal variance tracker for return differences\n\nExample\n\nstat = TrackingError()\nfit!(stat, AssetBenchmarkReturn(0.05, 0.04))  # Asset +5%, Benchmark +4%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.03))  # Asset +2%, Benchmark +3%\nfit!(stat, AssetBenchmarkReturn(-0.01, -0.02)) # Asset -1%, Benchmark -2%\nvalue(stat)  # Standard deviation of differences\n\nSee also: AssetBenchmarkReturn, InformationRatio\n\n\n\n\n\n","category":"type"},{"location":"api/#Downside-deviation","page":"API","title":"Downside deviation","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"DownsideDeviation","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.DownsideDeviation","page":"API","title":"OnlinePortfolioAnalytics.DownsideDeviation","text":"mutable struct DownsideDeviation{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nDownsideDeviation{T}(; threshold=0.0)\n\nCalculate Downside Deviation (semi-standard deviation) from a stream of returns.\n\nDownside Deviation measures the volatility of returns below a threshold (typically 0 or MAR). It captures only negative volatility, providing a more intuitive measure of risk than symmetric standard deviation.\n\nMathematical Definition\n\ntextDD = sqrtfrac1n sum_i=1^n min(R_i - tau 0)^2\n\nWhere:\n\nR_i = return for period i\ntau = threshold (Minimum Acceptable Return)\nn = total number of observations (consistent with Sortino definition)\n\nParameters\n\nthreshold: Minimum Acceptable Return (default 0.0)\n\nInput Type\n\nAccepts single return values (Number) via fit!.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns 0.0 when all returns are above threshold\n\nFields\n\nvalue::T: Current downside deviation\nn::Int: Total observation count\nn_below::Int: Count of observations below threshold\nsum_sq_below::T: Sum of squared deviations below threshold\nthreshold::T: MAR threshold\n\nExample\n\nstat = DownsideDeviation(threshold=0.0)\nfor ret in returns\n    fit!(stat, ret)\nend\ndd = value(stat)  # Semi-std of returns below 0\n\nSee also: UpsideDeviation, Sortino\n\n\n\n\n\n","category":"type"},{"location":"api/#Upside-deviation","page":"API","title":"Upside deviation","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"UpsideDeviation","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.UpsideDeviation","page":"API","title":"OnlinePortfolioAnalytics.UpsideDeviation","text":"mutable struct UpsideDeviation{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nUpsideDeviation{T}(; threshold=0.0)\n\nCalculate Upside Deviation (semi-standard deviation) from a stream of returns.\n\nUpside Deviation measures the volatility of returns above a threshold. It captures only positive volatility, complementing Downside Deviation.\n\nMathematical Definition\n\ntextUD = sqrtfrac1n sum_i=1^n max(R_i - tau 0)^2\n\nWhere:\n\nR_i = return for period i\ntau = threshold (Minimum Acceptable Return)\nn = total number of observations\n\nParameters\n\nthreshold: Minimum Acceptable Return (default 0.0)\n\nInput Type\n\nAccepts single return values (Number) via fit!.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns 0.0 when all returns are below threshold\n\nFields\n\nvalue::T: Current upside deviation\nn::Int: Total observation count\nn_above::Int: Count of observations above threshold\nsum_sq_above::T: Sum of squared deviations above threshold\nthreshold::T: MAR threshold\n\nExample\n\nstat = UpsideDeviation(threshold=0.0)\nfor ret in returns\n    fit!(stat, ret)\nend\nud = value(stat)  # Semi-std of returns above 0\n\nSee also: DownsideDeviation\n\n\n\n\n\n","category":"type"},{"location":"api/#Omega-ratio","page":"API","title":"Omega ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Omega","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Omega","page":"API","title":"OnlinePortfolioAnalytics.Omega","text":"mutable struct Omega{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nOmega{T}(; threshold=0.0)\n\nCalculate Omega Ratio from a stream of returns.\n\nOmega Ratio measures the probability-weighted ratio of gains to losses above/below a threshold. It considers the entire return distribution, not just mean and variance.\n\nMathematical Definition\n\nOmega(tau) = fracsum_R_i  tau (R_i - tau)sum_R_i  tau (tau - R_i)\n\nWhere:\n\nR_i = return for period i\ntau = threshold (typically 0)\n\nParameters\n\nthreshold: Reference threshold (default 0.0)\n\nInput Type\n\nAccepts single return values (Number) via fit!.\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nReturns Inf when no losses (all returns above threshold)\nReturns 0.0 when no gains (all returns below threshold)\n\nFields\n\nvalue::T: Current Omega ratio\nn::Int: Observation count\nsum_gains::T: Sum of returns above threshold\nsum_losses::T: Sum of absolute shortfall below threshold\nthreshold::T: Reference threshold\n\nExample\n\nstat = Omega(threshold=0.0)\nfor ret in returns\n    fit!(stat, ret)\nend\nomega = value(stat)  # sum(gains) / sum(losses)\n\nSee also: Sharpe, Sortino\n\n\n\n\n\n","category":"type"},{"location":"api/#Jensen's-Alpha","page":"API","title":"Jensen's Alpha","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"JensenAlpha","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.JensenAlpha","page":"API","title":"OnlinePortfolioAnalytics.JensenAlpha","text":"mutable struct JensenAlpha{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nJensenAlpha{T}(; risk_free=0.0)\n\nCalculate Jensen's Alpha from paired asset/market returns.\n\nJensen's Alpha measures the excess return of a portfolio above what the CAPM (Capital Asset Pricing Model) would predict, given its beta. Positive alpha indicates outperformance, negative alpha indicates underperformance.\n\nMathematical Definition\n\nalpha = ER_a - (r_f + beta times (ER_m - r_f))\n\nWhere:\n\nR_a = asset returns\nR_m = market returns\nr_f = risk-free rate\nbeta = systematic risk coefficient\n\nParameters\n\nrisk_free: Risk-free rate (default 0.0)\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient for beta)\n\nFields\n\nvalue::T: Current Jensen's alpha\nn::Int: Number of observations\nasset_mean::Mean: Mean asset return tracker\nmarket_mean::Mean: Mean market return tracker\nbeta::Beta{T}: Beta coefficient tracker\nrisk_free::T: Risk-free rate\n\nExample\n\nstat = JensenAlpha(risk_free=0.02)\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Asset +5%, Market +3%\nfit!(stat, AssetBenchmarkReturn(0.02, 0.01))  # Asset +2%, Market +1%\nvalue(stat)  # Actual return - CAPM expected return\n\nSee also: AssetBenchmarkReturn, Beta, ExpectedReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Market-Capture-Ratios","page":"API","title":"Market Capture Ratios","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"UpCapture\nDownCapture\nUpDownCaptureRatio","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.UpCapture","page":"API","title":"OnlinePortfolioAnalytics.UpCapture","text":"mutable struct UpCapture{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nUpCapture{T}()\n\nCalculate up-market capture ratio from paired asset/benchmark returns.\n\nUp capture measures how much of the benchmark's gains the portfolio captures during positive market periods. A ratio > 1.0 means the portfolio outperforms in up markets.\n\nMathematical Definition\n\ntextUpCapture = fracleft(prod_R_b  0(1 + R_a)right)^1n_up - 1left(prod_R_b  0(1 + R_b)right)^1n_up - 1\n\nWhere:\n\nR_a = asset return when benchmark is positive\nR_b = benchmark return (> 0)\nn_up = count of positive benchmark periods\n\nThis is the ratio of annualized geometric mean returns in up markets.\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!. Only observations where benchmark return > 0 are included.\n\nEdge Cases\n\nReturns NaN when no positive benchmark periods observed\nReturns NaN with no observations\n\nInterpretation\n\nRatio > 1.0: Portfolio outperforms benchmark in up markets\nRatio = 1.0: Portfolio matches benchmark in up markets\nRatio < 1.0: Portfolio underperforms benchmark in up markets\n\nFields\n\nvalue: Current up capture ratio value\nn: Total number of observations\nn_up: Count of up-market observations (benchmark > 0)\nasset_prod: Product of (1 + R_asset) for up periods\nbenchmark_prod: Product of (1 + R_benchmark) for up periods\n\nExample\n\nstat = UpCapture()\nfit!(stat, AssetBenchmarkReturn(0.05, 0.03))  # Up market: +5% vs +3%\nfit!(stat, AssetBenchmarkReturn(-0.02, -0.04)) # Down market (ignored)\nfit!(stat, AssetBenchmarkReturn(0.02, 0.01))  # Up market: +2% vs +1%\nvalue(stat)  # Up capture ratio (> 1.0 in this case)\n\nSee also: DownCapture, UpDownCaptureRatio, AssetBenchmarkReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.DownCapture","page":"API","title":"OnlinePortfolioAnalytics.DownCapture","text":"mutable struct DownCapture{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nDownCapture{T}()\n\nCalculate down-market capture ratio from paired asset/benchmark returns.\n\nDown capture measures how much of the benchmark's losses the portfolio captures during negative market periods. A ratio < 1.0 means the portfolio falls less than the benchmark in down markets, which is desirable.\n\nMathematical Definition\n\ntextDownCapture = fracleft(prod_R_b  0(1 + R_a)right)^1n_down - 1left(prod_R_b  0(1 + R_b)right)^1n_down - 1\n\nWhere:\n\nR_a = asset return when benchmark is negative\nR_b = benchmark return (< 0)\nn_down = count of negative benchmark periods\n\nThis is the ratio of annualized geometric mean returns in down markets.\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!. Only observations where benchmark return < 0 are included.\n\nEdge Cases\n\nReturns NaN when no negative benchmark periods observed\nReturns NaN with no observations\n\nInterpretation\n\nRatio < 1.0: Portfolio falls less than benchmark in down markets (desirable)\nRatio = 1.0: Portfolio matches benchmark in down markets\nRatio > 1.0: Portfolio falls more than benchmark in down markets (unfavorable)\n\nFields\n\nvalue: Current down capture ratio value\nn: Total number of observations\nn_down: Count of down-market observations (benchmark < 0)\nasset_prod: Product of (1 + R_asset) for down periods\nbenchmark_prod: Product of (1 + R_benchmark) for down periods\n\nExample\n\nstat = DownCapture()\nfit!(stat, AssetBenchmarkReturn(-0.02, -0.05))  # Down market: -2% vs -5%\nfit!(stat, AssetBenchmarkReturn(0.03, 0.04))    # Up market (ignored)\nfit!(stat, AssetBenchmarkReturn(-0.01, -0.03))  # Down market: -1% vs -3%\nvalue(stat)  # Down capture ratio (< 1.0 in this case - good!)\n\nSee also: UpCapture, UpDownCaptureRatio, AssetBenchmarkReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.UpDownCaptureRatio","page":"API","title":"OnlinePortfolioAnalytics.UpDownCaptureRatio","text":"mutable struct UpDownCaptureRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nUpDownCaptureRatio{T}()\n\nCalculate the up/down capture ratio from paired asset/benchmark returns.\n\nThe up/down capture ratio measures the asymmetry of portfolio performance relative to the benchmark across market conditions. A ratio > 1.0 indicates favorable asymmetry (captures more upside, less downside).\n\nMathematical Definition\n\ntextUpDownCaptureRatio = fractextUpCapturetextDownCapture\n\nWhere:\n\nUpCapture = geometric mean ratio of returns in up markets\nDownCapture = geometric mean ratio of returns in down markets\n\nInput Type\n\nAccepts AssetBenchmarkReturn observations via fit!.\n\nEdge Cases\n\nReturns NaN when either up capture or down capture is NaN\nReturns Inf if down capture is zero (undefined in practice)\nReturns NaN with no observations\n\nInterpretation\n\nRatio > 1.0: Favorable asymmetry (desirable)\nPortfolio captures more upside and/or less downside\nRatio = 1.0: Symmetric performance\nRatio < 1.0: Unfavorable asymmetry\nPortfolio captures less upside and/or more downside\n\nFields\n\nvalue: Current up/down capture ratio value\nn: Total number of observations\nup_capture: Internal up capture tracker\ndown_capture: Internal down capture tracker\n\nExample\n\nstat = UpDownCaptureRatio()\nfit!(stat, AssetBenchmarkReturn(0.06, 0.04))   # Up market\nfit!(stat, AssetBenchmarkReturn(-0.01, -0.03)) # Down market\nfit!(stat, AssetBenchmarkReturn(0.03, 0.02))   # Up market\nfit!(stat, AssetBenchmarkReturn(-0.02, -0.04)) # Down market\nvalue(stat)  # Up/Down ratio (> 1.0 means favorable asymmetry)\n\nSee also: UpCapture, DownCapture, AssetBenchmarkReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#Extended-Risk-Adjusted-Ratios","page":"API","title":"Extended Risk-Adjusted Ratios","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"UlcerIndex\nPainIndex\nSterlingRatio\nBurkeRatio\nPainRatio","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.UlcerIndex","page":"API","title":"OnlinePortfolioAnalytics.UlcerIndex","text":"mutable struct UlcerIndex{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nUlcerIndex{T}()\n\nCalculate the Ulcer Index from a stream of returns.\n\nThe Ulcer Index measures the depth and duration of drawdowns by computing the root-mean-square (RMS) of all drawdown values. It penalizes both the magnitude and frequency of drawdowns, capturing the \"pain\" of holding an investment through volatile periods.\n\nMathematical Definition\n\ntextUlcerIndex = sqrtfrac1n sum_i=1^n D_i^2\n\nWhere:\n\nD_i = drawdown at time i (from DrawDowns tracker, always ≤ 0)\n\nEdge Cases\n\nReturns 0.0 when no observations\nReturns 0.0 when no drawdown (always at peak)\n\nInterpretation\n\nLower values indicate smoother returns with shallower drawdowns\nHigher values indicate more volatile returns with deeper/longer drawdowns\nAlways non-negative (RMS of non-positive values)\n\nFields\n\ndrawdowns: Internal drawdown tracker\nrms: RMS of drawdown values\n\nExample\n\nstat = UlcerIndex()\nfit!(stat, 0.10)   # +10% gain - new peak\nfit!(stat, -0.05)  # -5% loss - in drawdown\nfit!(stat, -0.03)  # -3% loss - deeper drawdown\nvalue(stat)        # RMS of drawdown values\n\nSee also: PainIndex, DrawDowns, MaxDrawDown\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.PainIndex","page":"API","title":"OnlinePortfolioAnalytics.PainIndex","text":"mutable struct PainIndex{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nPainIndex{T}()\n\nCalculate the Pain Index from a stream of returns.\n\nThe Pain Index measures the average depth of drawdowns by computing the mean of absolute drawdown values. It provides a linear measure of \"pain\" compared to the quadratic penalty of the Ulcer Index.\n\nMathematical Definition\n\ntextPainIndex = frac1n sum_i=1^n D_i\n\nWhere:\n\nD_i = drawdown at time i (from DrawDowns tracker, always ≤ 0)\nD_i = absolute value of drawdown\n\nEdge Cases\n\nReturns 0.0 when no observations\nReturns 0.0 when no drawdown (always at peak)\n\nInterpretation\n\nLower values indicate smoother returns with shallower drawdowns\nHigher values indicate more volatile returns with deeper drawdowns\nAlways non-negative\n\nFields\n\nvalue: Current Pain Index value\nn: Number of observations\ndrawdowns: Internal drawdown tracker\nsum_abs_dd: Sum of absolute drawdowns\n\nExample\n\nstat = PainIndex()\nfit!(stat, 0.10)   # +10% gain - new peak\nfit!(stat, -0.05)  # -5% loss - in drawdown\nfit!(stat, -0.03)  # -3% loss - deeper drawdown\nvalue(stat)        # Mean of absolute drawdown values\n\nSee also: UlcerIndex, PainRatio, DrawDowns\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.SterlingRatio","page":"API","title":"OnlinePortfolioAnalytics.SterlingRatio","text":"mutable struct SterlingRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nSterlingRatio{T}(; period=252, threshold=0.10)\n\nCalculate the Sterling Ratio from a stream of returns.\n\nThe Sterling Ratio measures risk-adjusted performance by dividing annualized return by the adjusted maximum drawdown. The threshold (default 10%) accounts for \"normal\" expected drawdown, making the ratio more stable for portfolios with small drawdowns.\n\nMathematical Definition\n\ntextSterlingRatio = fractextAnnualizedReturntextMaxDrawDown - textthreshold\n\nWhere:\n\nAnnualizedReturn = geometric mean return annualized\nMaxDrawDown = worst peak-to-trough decline (negative value)\nthreshold = drawdown adjustment (default 0.10)\n\nParameters\n\nperiod: Annualization factor (default: 252 for daily returns)\nthreshold: Drawdown adjustment (default: 0.10 = 10%)\n\nEdge Cases\n\nReturns Inf when |MaxDD| ≤ threshold (adjusted denominator is ≤ 0)\nReturns 0.0 when no observations\n\nInterpretation\n\nHigher values indicate better risk-adjusted returns\nAccounts for expected \"normal\" drawdown via threshold\n\nFields\n\nvalue: Current Sterling Ratio value\nn: Number of observations\nannualized_return: Internal annualized return tracker\nmax_drawdown: Internal max drawdown tracker\nthreshold: Drawdown threshold adjustment\nperiod: Annualization period\n\nExample\n\nstat = SterlingRatio(period=252, threshold=0.10)\nfor r in returns\n    fit!(stat, r)\nend\nvalue(stat)  # Annualized return / (|MaxDD| - 10%)\n\nSee also: Calmar, MaxDrawDown, AnnualizedReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.BurkeRatio","page":"API","title":"OnlinePortfolioAnalytics.BurkeRatio","text":"mutable struct BurkeRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nBurkeRatio{T}(; period=252, risk_free=0)\n\nCalculate the Burke Ratio from a stream of returns.\n\nThe Burke Ratio measures risk-adjusted performance by dividing excess return by the root-mean-square of drawdown values. Unlike Sterling (which uses only max drawdown), Burke penalizes both the magnitude and frequency of all drawdowns.\n\nMathematical Definition\n\ntextBurkeRatio = fractextAnnualizedReturn - R_fsqrtfrac1nsum_i=1^n D_i^2\n\nWhere:\n\nAnnualizedReturn = geometric mean return annualized\nR_f = risk-free rate\nD_i = drawdown at time i\n\nThe denominator is equivalent to the Ulcer Index.\n\nParameters\n\nperiod: Annualization factor (default: 252 for daily returns)\nrisk_free: Risk-free rate per period (default: 0)\n\nEdge Cases\n\nReturns Inf when sum of squared drawdowns is zero (no drawdowns)\nReturns 0.0 when no observations\n\nInterpretation\n\nHigher values indicate better risk-adjusted returns\nPenalizes both depth and frequency of drawdowns\n\nFields\n\nvalue: Current Burke Ratio value\nn: Number of observations\nannualized_return: Internal annualized return tracker\ndrawdowns: Internal drawdown tracker\nsum_dd_squared: Sum of squared drawdowns\nrisk_free: Risk-free rate\nperiod: Annualization period\n\nExample\n\nstat = BurkeRatio(period=252, risk_free=0.0)\nfor r in returns\n    fit!(stat, r)\nend\nvalue(stat)  # Excess return / sqrt(mean(DD^2))\n\nSee also: SterlingRatio, UlcerIndex, MaxDrawDown\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.PainRatio","page":"API","title":"OnlinePortfolioAnalytics.PainRatio","text":"mutable struct PainRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nPainRatio{T}(; period=252, risk_free=0)\n\nCalculate the Pain Ratio from a stream of returns.\n\nThe Pain Ratio measures risk-adjusted performance by dividing excess return by the Pain Index (mean absolute drawdown). It provides a linear penalty for drawdowns compared to the quadratic penalty of the Burke Ratio.\n\nMathematical Definition\n\ntextPainRatio = fractextAnnualizedReturn - R_ftextPainIndex\n\nWhere:\n\nAnnualizedReturn = geometric mean return annualized\nR_f = risk-free rate\nPainIndex = mean of absolute drawdown values\n\nParameters\n\nperiod: Annualization factor (default: 252 for daily returns)\nrisk_free: Risk-free rate per period (default: 0)\n\nEdge Cases\n\nReturns Inf when Pain Index is zero (no drawdowns)\nReturns 0.0 when no observations\n\nInterpretation\n\nHigher values indicate better risk-adjusted returns\nUses linear (not quadratic) penalty for drawdowns\n\nFields\n\nvalue: Current Pain Ratio value\nn: Number of observations\nannualized_return: Internal annualized return tracker\npain_index: Internal Pain Index tracker\nrisk_free: Risk-free rate\nperiod: Annualization period\n\nExample\n\nstat = PainRatio(period=252, risk_free=0.0)\nfor r in returns\n    fit!(stat, r)\nend\nvalue(stat)  # Excess return / PainIndex\n\nSee also: PainIndex, BurkeRatio, SterlingRatio\n\n\n\n\n\n","category":"type"},{"location":"api/#Volatility-and-Stability-Metrics","page":"API","title":"Volatility & Stability Metrics","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"AnnualVolatility\nStability\nTailRatio","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.AnnualVolatility","page":"API","title":"OnlinePortfolioAnalytics.AnnualVolatility","text":"mutable struct AnnualVolatility{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nAnnualVolatility{T}(; period=252)\n\nCalculate annualized volatility from a stream of periodic returns.\n\nAnnualized volatility is the standard deviation of returns scaled by the square root of the annualization period. It represents the expected annual dispersion of returns.\n\nMathematical Definition\n\ntextAnnual Volatility = sigma times sqrttextperiod\n\nWhere:\n\nsigma = sample standard deviation of periodic returns\nperiod = annualization factor (252 for daily, 52 for weekly, 12 for monthly)\n\nParameters\n\nperiod: Annualization factor (default 252 for daily returns)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\n\nFields\n\nvalue: Current annualized volatility value\nn: Number of observations\nvariance: Internal variance tracker\nperiod: Annualization period\n\nExample\n\nstat = AnnualVolatility()\nfit!(stat, 0.01)   # 1% daily return\nfit!(stat, 0.02)   # 2% daily return\nfit!(stat, -0.01)  # -1% daily return\nvalue(stat)        # Annualized volatility\n\nSee also: StdDev, Sharpe\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.Stability","page":"API","title":"OnlinePortfolioAnalytics.Stability","text":"mutable struct Stability{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nStability{T}()\n\nCalculate stability as the R-squared of a linear regression of cumulative log returns.\n\nStability measures how consistently returns grow over time. A stability of 1.0 indicates perfectly linear growth (constant returns), while lower values indicate more erratic growth.\n\nMathematical Definition\n\nStability is the coefficient of determination (R²) from regressing cumulative log returns on the observation index:\n\nR^2 = 1 - fracSS_resSS_tot\n\nWhere we track cumulative log returns: y_i = sum_j=1^i log(1 + r_j)\n\nAnd regress against time index x_i = i.\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (cannot compute regression)\nReturns values in [0, 1] for valid regressions\n\nFields\n\nvalue: Current R-squared value\nn: Number of observations\nsum_x: Sum of x (time indices)\nsum_x2: Sum of x squared\nsum_y: Sum of y (cumulative log returns)\nsum_y2: Sum of y squared\nsum_xy: Sum of x*y\ncum_log_return: Current cumulative log return\n\nExample\n\nstat = Stability()\nfor _ in 1:20\n    fit!(stat, 0.01)  # Consistent 1% return\nend\nvalue(stat)  # Should be close to 1.0 (highly stable)\n\nSee also: AnnualizedReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.TailRatio","page":"API","title":"OnlinePortfolioAnalytics.TailRatio","text":"mutable struct TailRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nTailRatio{T}(; b=500)\n\nCalculate the tail ratio as the ratio of the 95th percentile to the absolute value of the 5th percentile of returns.\n\nTail ratio measures the symmetry of return distribution tails:\n\nRatio > 1.0: Fatter right tail (larger gains than losses at extremes)\nRatio ≈ 1.0: Symmetric tails\nRatio < 1.0: Fatter left tail (larger losses than gains at extremes)\n\nMathematical Definition\n\ntextTail Ratio = fractextPercentile_95(R)textPercentile_5(R)\n\nWhere:\n\ntextPercentile_95(R) = 95th percentile of returns\ntextPercentile_5(R) = 5th percentile of returns\n\nParameters\n\nb: Number of histogram bins for quantile estimation (default 500)\n\nEdge Cases\n\nReturns Inf if 5th percentile is zero\nMay return NaN with insufficient data\n\nFields\n\nvalue: Current tail ratio value\nn: Number of observations\nquantile: Internal quantile tracker for 5th and 95th percentiles\n\nExample\n\nstat = TailRatio()\nfor r in returns\n    fit!(stat, r)\nend\nratio = value(stat)  # > 1.0 means fatter right tail\n\nSee also: VaR, ExpectedShortfall\n\n\n\n\n\n","category":"type"},{"location":"api/#Modigliani-Measures","page":"API","title":"Modigliani Measures","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"M2\nMSquaredExcess\nActivePremium","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.M2","page":"API","title":"OnlinePortfolioAnalytics.M2","text":"mutable struct M2{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nM2{T}(; risk_free=0.0)\n\nCalculate the M2 (Modigliani-Modigliani) risk-adjusted performance measure from a stream of paired portfolio and benchmark returns.\n\nM2 adjusts the portfolio return to have the same volatility as the benchmark, making performance comparison between portfolios with different risk levels more meaningful.\n\nMathematical Definition\n\nM^2 = R_f + (barR_port - R_f) times fracsigma_benchsigma_port\n\nWhere:\n\nR_f = risk-free rate\nbarR_port = mean portfolio return\nsigma_port = portfolio standard deviation\nsigma_bench = benchmark standard deviation\n\nInterpretation\n\nM2 represents what the portfolio return would have been if it had the same risk as the benchmark\nHigher M2 indicates better risk-adjusted performance\nM2 is directly comparable to benchmark return (same scale and units)\n\nParameters\n\nrisk_free: Risk-free rate (default 0.0)\n\nEdge Cases\n\nReturns 0.0 when portfolio volatility is zero (undefined)\nReturns 0.0 when fewer than 2 observations (insufficient data)\n\nFields\n\nvalue: Current M2 value\nn: Number of observations\nport_mean: Portfolio mean tracker\nport_variance: Portfolio variance tracker\nbench_variance: Benchmark variance tracker\nrisk_free: Risk-free rate\n\nExample\n\nstat = M2(risk_free=0.02)\nfit!(stat, AssetBenchmarkReturn(0.10, 0.08))  # Portfolio +10%, Benchmark +8%\nfit!(stat, AssetBenchmarkReturn(0.05, 0.04))  # Portfolio +5%, Benchmark +4%\nvalue(stat)  # Risk-adjusted portfolio return\n\nSee also: MSquaredExcess, Sharpe, InformationRatio\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.MSquaredExcess","page":"API","title":"OnlinePortfolioAnalytics.MSquaredExcess","text":"mutable struct MSquaredExcess{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nMSquaredExcess{T}(; risk_free=0.0)\n\nCalculate the M-Squared Excess (M2 minus benchmark mean return) from a stream of paired portfolio and benchmark returns.\n\nM-Squared Excess represents the risk-adjusted excess return of the portfolio relative to the benchmark. It shows how much the portfolio would have outperformed (or underperformed) the benchmark if both had the same volatility.\n\nMathematical Definition\n\nM^2_excess = M^2 - barR_bench\n\nWhere:\n\nM^2 = R_f + (barR_port - R_f) times fracsigma_benchsigma_port\nbarR_bench = mean benchmark return\n\nInterpretation\n\nPositive value: Portfolio outperforms on a risk-adjusted basis\nNegative value: Portfolio underperforms on a risk-adjusted basis\nZero: Portfolio performs exactly as expected for its risk level\n\nParameters\n\nrisk_free: Risk-free rate (default 0.0)\n\nEdge Cases\n\nReturns 0.0 when fewer than 2 observations (insufficient data)\n\nFields\n\nvalue: Current M-Squared Excess value\nn: Number of observations\nm2: Internal M2 tracker\nbench_mean: Benchmark mean tracker\nrisk_free: Risk-free rate\n\nExample\n\nstat = MSquaredExcess(risk_free=0.02)\nfit!(stat, AssetBenchmarkReturn(0.10, 0.08))\nfit!(stat, AssetBenchmarkReturn(0.05, 0.04))\nvalue(stat)  # Risk-adjusted excess return vs benchmark\n\nSee also: M2, InformationRatio, ActivePremium\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.ActivePremium","page":"API","title":"OnlinePortfolioAnalytics.ActivePremium","text":"mutable struct ActivePremium{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{AssetBenchmarkReturn{T}}\n\nActivePremium{T}(; period=252)\n\nCalculate the Active Premium (annualized portfolio return minus annualized benchmark return) from a stream of paired portfolio and benchmark returns.\n\nActive Premium measures the raw excess return of the portfolio over the benchmark on an annualized basis, without adjusting for risk.\n\nMathematical Definition\n\ntextActive Premium = textAnnualizedReturn_port - textAnnualizedReturn_bench\n\nWhere AnnualizedReturn is the CAGR (Compound Annual Growth Rate): textAnnualizedReturn = (prod_i=1^n(1 + r_i))^periodn - 1\n\nInterpretation\n\nPositive value: Portfolio outperforms benchmark\nNegative value: Portfolio underperforms benchmark\nZero: Portfolio matches benchmark exactly\n\nParameters\n\nperiod: Annualization factor (default 252 for daily returns)\nDaily: 252 (trading days per year)\nWeekly: 52\nMonthly: 12\n\nFields\n\nvalue: Current Active Premium value\nn: Number of observations\nport_ann_return: Portfolio annualized return tracker\nbench_ann_return: Benchmark annualized return tracker\nperiod: Annualization period\n\nExample\n\nstat = ActivePremium(period=252)\nfit!(stat, AssetBenchmarkReturn(0.01, 0.008))  # Daily returns\nfit!(stat, AssetBenchmarkReturn(0.02, 0.015))\nvalue(stat)  # Annualized excess return\n\nSee also: AnnualizedReturn, InformationRatio, MSquaredExcess\n\n\n\n\n\n","category":"type"},{"location":"api/#Upside-Potential-Ratio","page":"API","title":"Upside Potential Ratio","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"UpsidePotentialRatio","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.UpsidePotentialRatio","page":"API","title":"OnlinePortfolioAnalytics.UpsidePotentialRatio","text":"mutable struct UpsidePotentialRatio{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nUpsidePotentialRatio{T}(; mar=0.0)\n\nCalculate the Upside Potential Ratio from a stream of returns.\n\nThe Upside Potential Ratio measures the ratio of expected positive deviation above a Minimum Acceptable Return (MAR) to the downside deviation below that threshold. It captures the asymmetry between upside gains and downside losses.\n\nMathematical Definition\n\ntextUPR = fracEmax(R - MAR 0)textDownsideDeviation\n\nWhere:\n\nR = return\nMAR = Minimum Acceptable Return (threshold)\nUpside Potential = frac1n sum_i=1^n max(R_i - MAR 0)\nDownside Deviation = sqrtfrac1n sum_i=1^n min(R_i - MAR 0)^2\n\nInterpretation\n\nUPR > 1: Upside potential exceeds downside risk (favorable)\nUPR = 1: Upside potential equals downside risk\nUPR < 1: Downside risk exceeds upside potential (unfavorable)\nUPR = Inf: No downside (all returns above MAR)\nUPR = 0: No upside (all returns below MAR)\n\nParameters\n\nmar: Minimum Acceptable Return threshold (default 0.0)\n\nFields\n\nvalue: Current Upside Potential Ratio value\nn: Number of observations\nsum_upside: Sum of positive deviations from MAR\ndownside_deviation: Internal downside deviation tracker\nmar: Minimum Acceptable Return threshold\n\nExample\n\nstat = UpsidePotentialRatio(mar=0.0)\nfit!(stat, 0.10)   # +10% return\nfit!(stat, -0.03)  # -3% return\nfit!(stat, 0.05)   # +5% return\nvalue(stat)  # Upside potential / downside deviation\n\nSee also: DownsideDeviation, UpsideDeviation, Sortino\n\n\n\n\n\n","category":"type"},{"location":"api/#Rolling-Window-Framework","page":"API","title":"Rolling Window Framework","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Rolling","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Rolling","page":"API","title":"OnlinePortfolioAnalytics.Rolling","text":"mutable struct Rolling{T, S<:OnlineStatsBase.OnlineStat} <: OnlineStatsBase.OnlineStat{T}\n\nRolling(stat; window)\n\nWrap any OnlineStat to compute rolling window statistics.\n\nThe Rolling wrapper maintains a circular buffer of observations and recomputes the wrapped statistic over only the most recent window observations. This enables streaming computation of rolling metrics like rolling Sharpe ratio or rolling drawdown.\n\nParameters\n\nstat: Any OnlineStat to wrap (e.g., Sharpe{Float64}(), MaxDrawDown{Float64}())\nwindow: Size of the rolling window (must be > 0)\n\nImplementation Details\n\nWhen a new observation arrives:\n\nAdd it to the circular buffer\nIf buffer exceeds window size, the oldest observation is automatically removed\nReset the wrapped stat and refit with all buffer contents\n\nEdge Cases\n\nBefore window is full: Computes on available observations (partial window)\nAfter window is full: Computes on exactly window most recent observations\n\nFields\n\nstat: The wrapped OnlineStat\nbuffer: Circular buffer storing observations (OnlineStatsBase.CircBuff)\nwindow: Rolling window size\nn: Total observations seen\n\nExample\n\n# Rolling 60-period Sharpe ratio\nrolling_sharpe = Rolling(Sharpe{Float64}(), window=60)\nfor ret in daily_returns\n    fit!(rolling_sharpe, ret)\n    println(\"60-day rolling Sharpe: \", value(rolling_sharpe))\nend\n\n# Rolling 30-period max drawdown\nrolling_dd = Rolling(MaxDrawDown{Float64}(), window=30)\nfor ret in returns\n    fit!(rolling_dd, ret)\nend\n\nSee also: Sharpe, MaxDrawDown, Calmar\n\n\n\n\n\n","category":"type"},{"location":"api/#Input-types","page":"API","title":"Input types","text":"","category":"section"},{"location":"api/#Asset/Benchmark-return-pair","page":"API","title":"Asset/Benchmark return pair","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"AssetBenchmarkReturn","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.AssetBenchmarkReturn","page":"API","title":"OnlinePortfolioAnalytics.AssetBenchmarkReturn","text":"struct AssetBenchmarkReturn{T<:Real}\n\nAssetBenchmarkReturn{T<:Real}(asset, benchmark)\n\nWrapper type for paired (asset, benchmark) return observations.\n\nUsed as input for relative performance metrics (e.g., TrackingError, InformationRatio) and CAPM-based metrics (e.g., Beta, ExpectedReturn, Treynor, JensenAlpha).\n\nThe benchmark can be any reference portfolio or market index depending on the analysis context.\n\nFields\n\nasset::T: Asset/portfolio return for this observation\nbenchmark::T: Benchmark/market return for this observation\n\nExample\n\nobs = AssetBenchmarkReturn(0.05, 0.03)  # 5% asset return, 3% benchmark return\nfit!(beta_stat, obs)\nfit!(tracking_error_stat, obs)\n\nSee also: Beta, ExpectedReturn, Treynor, JensenAlpha, TrackingError, InformationRatio\n\n\n\n\n\n","category":"type"},{"location":"api/#Other","page":"API","title":"Other","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Prod\nLogProd\nRMS","category":"page"},{"location":"api/#OnlinePortfolioAnalytics.Prod","page":"API","title":"OnlinePortfolioAnalytics.Prod","text":"mutable struct Prod{T} <: OnlineStatsBase.OnlineStat{Number}\n\nProd(T::Type = Float64)\n\nStreaming product accumulator that computes the running product of observations.\n\nMathematical Definition\n\nP = prod_i=1^n x_i\n\nWhere:\n\nx_i = observation for period i\nn = number of observations\n\nFor weighted observations with weight w: P = P cdot x^w\n\nThis represents \"fitting x with multiplicity w\" - equivalent to fitting x exactly w times.\n\nFields\n\nprod::T: Current accumulated product value\nn::Int: Number of observations (or total accumulated weight)\n\nInitial State\n\nprod = one(T) (multiplicative identity)\nn = 0\n\nEdge Cases\n\nEmpty stat: value(stat) == one(T), nobs(stat) == 0\nZero input: Product becomes and stays zero\nFor T<:Integer: inputs are rounded before multiplication\n\nExample\n\nstat = Prod(Float64)\nfit!(stat, 2.0)\nfit!(stat, 3.0)\nfit!(stat, 4.0)\nvalue(stat)  # => 24.0\nnobs(stat)   # => 3\n\n# Weighted fit (x^w semantics)\nstat2 = Prod(Float64)\nfit!(stat2, 2.0, 3)  # 2^3 = 8\nvalue(stat2)  # => 8.0\n\nSee also: LogProd, CumulativeReturn, GeometricMeanReturn\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.LogProd","page":"API","title":"OnlinePortfolioAnalytics.LogProd","text":"mutable struct LogProd{T} <: OnlineStatsBase.OnlineStat{Number}\n\nLogProd(T::Type = Float64)\n\nNumerically stable streaming product accumulator that operates in log-space.\n\nFor products of many values (>100), standard multiplication can overflow (Inf) or underflow (0.0). LogProd avoids this by accumulating log(x) values and returning exp(sum_of_logs).\n\nMathematical Definition\n\nP = prod_i=1^n x_i = expleft(sum_i=1^n log(x_i)right)\n\nFor weighted observations: P = P cdot x^w = exp(textlog_sum + w cdot log(x))\n\nFields\n\nlog_sum::T: Sum of logarithms of observed values\nn::Int: Number of observations (or total accumulated weight)\n\nInitial State\n\nlog_sum = zero(T)\nn = 0\nvalue(stat) == 1.0 (since exp(0) = 1)\n\nEdge Cases\n\nEmpty stat: value(stat) == 1.0, nobs(stat) == 0\nZero input (x = 0): log(0) = -Inf, so value(stat) == 0.0\nNegative input (x < 0): log(x) returns NaN (undefined in real domain)\nFor very large products: stays finite when Prod would overflow\n\nExample\n\n# Standard Prod overflows\nprod_stat = Prod(Float64)\nfor _ in 1:10000\n    fit!(prod_stat, 1.001)\nend\nvalue(prod_stat)  # => Inf (overflow!)\n\n# LogProd stays stable\nlog_stat = LogProd(Float64)\nfor _ in 1:10000\n    fit!(log_stat, 1.001)\nend\nvalue(log_stat)  # => 21916.68... (finite and correct)\n\nSee also: Prod\n\n\n\n\n\n","category":"type"},{"location":"api/#OnlinePortfolioAnalytics.RMS","page":"API","title":"OnlinePortfolioAnalytics.RMS","text":"mutable struct RMS{T} <: OnlinePortfolioAnalytics.PortfolioAnalyticsSingleOutput{T}\n\nRMS{T}()\n\nCalculate the Root Mean Square (RMS) from a stream of numeric values.\n\nRMS is a fundamental statistical measure that computes the square root of the mean of squared values. It is commonly used in signal processing, physics, and finance to measure the magnitude of varying quantities.\n\nMathematical Definition\n\ntextRMS = sqrtfrac1n sum_i=1^n x_i^2\n\nWhere:\n\nx_i = observation at time i\nn = total number of observations\n\nEdge Cases\n\nReturns 0.0 when no observations (n=0)\nHandles negative values correctly (squared, so sign doesn't matter)\nRMS of all zeros returns 0.0\n\nFields\n\nvalue: Current RMS value\nn: Number of observations\nsum_sq: Sum of squared values\n\nExample\n\nstat = RMS()\nfit!(stat, 3.0)\nfit!(stat, 4.0)\nvalue(stat)  # sqrt((9+16)/2) ≈ 3.536\n\nUsage in Portfolio Analytics\n\nRMS is used internally by UlcerIndex to compute the root-mean-square of drawdown values, measuring the \"pain\" of holding an investment through volatile periods.\n\nSee also: UlcerIndex, DownsideDeviation, StdDev\n\n\n\n\n\n","category":"type"},{"location":"usage/#Usage","page":"Usage","title":"Usage","text":"","category":"section"},{"location":"usage/#Feeding-a-portfolio-analytics-one-observation-at-a-time","page":"Usage","title":"Feeding a portfolio analytics one observation at a time","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"A portfolio analytics object can be feeded using fit! function.\nIt's feeded one observation at a time.","category":"page"},{"location":"usage/#Showing-sample-data","page":"Usage","title":"Showing sample data","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"Some sample data are provided for testing purpose.","category":"page"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> using OnlinePortfolioAnalytics\njulia> using OnlinePortfolioAnalytics.SampleData: dates, TSLA, NFLX, MSFT, weights\n\njulia> dates\nDates.Date(\"2020-12-31\"):Dates.Month(1):Dates.Date(\"2021-12-31\")\n\njulia> TSLA\n13-element Vector{Float64}:\n 235.22\n 264.51\n 225.16\n 222.64\n 236.48\n 208.4\n 226.56\n 229.06\n 245.24\n 258.49\n 371.33\n 381.58\n 352.26\n\njulia> NFLX\n13-element Vector{Float64}:\n 540.73\n 532.39\n 538.85\n 521.66\n 513.47\n 502.81\n 528.21\n 517.57\n 569.19\n 610.34\n 690.31\n 641.9\n 602.44\n\njulia> MSFT\n13-element Vector{Float64}:\n 222.42\n 231.96\n 232.38\n 235.77\n 252.18\n 249.68\n 270.9\n 284.91\n 301.88\n 281.92\n 331.62\n 330.59\n 336.32\n\njulia> weights\n3-element Vector{Float64}:\n 0.4\n 0.4\n 0.2","category":"page"},{"location":"usage/#Calculate-returns-(from-TSLA-prices)","page":"Usage","title":"Calculate returns (from TSLA prices)","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> stat = SimpleAssetReturn{Float64}()\nSimpleAssetReturn: n=0 | value=missing\n\njulia> fit!(stat, 235.22)\nSimpleAssetReturn: n=1 | value=missing\n\njulia> fit!(stat, 264.51)\nSimpleAssetReturn: n=2 | value=0.124522\n\njulia> value(stat)\n0.12452172434316806","category":"page"},{"location":"usage/#Calculate-returns-(natural-log-method)","page":"Usage","title":"Calculate returns (natural log method)","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> stat = LogAssetReturn{Float64}()\nLogAssetReturn: n=0 | value=missing\n\njulia> fit!(stat, 235.22)\nLogAssetReturn: n=1 | value=missing\n\njulia> fit!(stat, 264.51)\nLogAssetReturn: n=2 | value=0.117358","category":"page"},{"location":"usage/#Others","page":"Usage","title":"Others","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"See API usage","category":"page"},{"location":"usage/#Portfolio-analytics-with-Tables.jl-compatible-sources","page":"Usage","title":"Portfolio analytics with Tables.jl compatible sources","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"Here is an example showing how to use OnlinePortfolioAnalytics with Tables.jl compatible sources.","category":"page"},{"location":"usage/#Sample-data","page":"Usage","title":"Sample data","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> using TSFrames\n\njulia> prices_ts = TSFrame([TSLA NFLX MSFT], dates, colnames = [:TSLA, :NFLX, :MSFT])\n13×3 TSFrame with Date Index\n Index       TSLA     NFLX     MSFT\n Date        Float64  Float64  Float64\n───────────────────────────────────────\n 2020-12-31   235.22   540.73   222.42\n 2021-01-31   264.51   532.39   231.96\n 2021-02-28   225.16   538.85   232.38\n 2021-03-31   222.64   521.66   235.77\n 2021-04-30   236.48   513.47   252.18\n 2021-05-31   208.4    502.81   249.68\n 2021-06-30   226.56   528.21   270.9\n 2021-07-31   229.06   517.57   284.91\n 2021-08-31   245.24   569.19   301.88\n 2021-09-30   258.49   610.34   281.92\n 2021-10-31   371.33   690.31   331.62\n 2021-11-30   381.58   641.9    330.59\n 2021-12-31   352.26   602.44   336.3","category":"page"},{"location":"usage/#Returns","page":"Usage","title":"Returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> returns = SimpleAssetReturn(prices_ts)\n13×3 TSFrame with Date Index\n Index       TSLA             MSFT              NFLX\n Date        Float64?         Float64?          Float64?\n────────────────────────────────────────────────────────────────\n 2020-12-31  missing          missing           missing\n 2021-01-31        0.124522         0.0428918        -0.0154236\n 2021-02-28       -0.148766         0.00181066        0.012134\n 2021-03-31       -0.011192         0.0145882        -0.0319013\n 2021-04-30        0.0621631        0.0696017        -0.0156999\n 2021-05-31       -0.118742        -0.00991355       -0.0207607\n 2021-06-30        0.0871401        0.0849888         0.0505161\n 2021-07-31        0.0110346        0.0517165        -0.0201435\n 2021-08-31        0.0706365        0.0595627         0.0997353\n 2021-09-30        0.0540287       -0.066119          0.0722957\n 2021-10-31        0.436535         0.176291          0.131025\n 2021-11-30        0.0276035       -0.00310596       -0.0701279\n 2021-12-31       -0.0768384        0.0173326        -0.0614737","category":"page"},{"location":"usage/#Remove-missing-from-returns","page":"Usage","title":"Remove missing from returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> using DataFrames\n\njulia> returns = dropmissing(returns.coredata) |> TSFrame\n12×3 TSFrame with Date Index\n Index       TSLA        MSFT         NFLX\n Date        Float64     Float64      Float64\n─────────────────────────────────────────────────\n 2021-01-31   0.124522    0.0428918   -0.0154236\n 2021-02-28  -0.148766    0.00181066   0.012134\n 2021-03-31  -0.011192    0.0145882   -0.0319013\n 2021-04-30   0.0621631   0.0696017   -0.0156999\n 2021-05-31  -0.118742   -0.00991355  -0.0207607\n 2021-06-30   0.0871401   0.0849888    0.0505161\n 2021-07-31   0.0110346   0.0517165   -0.0201435\n 2021-08-31   0.0706365   0.0595627    0.0997353\n 2021-09-30   0.0540287  -0.066119     0.0722957\n 2021-10-31   0.436535    0.176291     0.131025\n 2021-11-30   0.0276035  -0.00310596  -0.0701279\n 2021-12-31  -0.0768384   0.0173326   -0.0614737","category":"page"},{"location":"usage/#Calculate-standard-deviation-of-returns","page":"Usage","title":"Calculate standard deviation of returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> stddev = StdDev(returns)\n12×3 TSFrame with Date Index\n Index       TSLA       MSFT       NFLX\n Date        Float64    Float64    Float64\n─────────────────────────────────────────────\n 2021-01-31  1.0        1.0        1.0\n 2021-02-28  0.193243   0.0290488  0.0194861\n 2021-03-31  0.136645   0.0210239  0.0222487\n 2021-04-30  0.117541   0.0302594  0.0182741\n 2021-05-31  0.116225   0.0322773  0.016229\n 2021-06-30  0.11253    0.0381779  0.0301918\n 2021-07-31  0.102823   0.0354894  0.0282681\n 2021-08-31  0.0983386  0.0338512  0.0456038\n 2021-09-30  0.0931719  0.047328   0.0478437\n 2021-10-31  0.159765   0.064804   0.0582396\n 2021-11-30  0.15182    0.0630003  0.0624165\n 2021-12-31  0.149608   0.0603753  0.0637211","category":"page"},{"location":"usage/#Calculate-arithmetic-mean-returns","page":"Usage","title":"Calculate arithmetic mean returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> amr = ArithmeticMeanReturn(returns)\n12×3 TSFrame with Date Index\n Index       TSLA          MSFT       NFLX\n Date        Float64       Float64    Float64\n──────────────────────────────────────────────────\n 2021-01-31   0.124522     0.0428918  -0.0154236\n 2021-02-28  -0.012122     0.0223512  -0.00164482\n 2021-03-31  -0.011812     0.0197636  -0.0117303\n 2021-04-30   0.00668179   0.0322231  -0.0127227\n 2021-05-31  -0.0184029    0.0237958  -0.0143303\n 2021-06-30  -0.000812376  0.0339946  -0.00352257\n 2021-07-31   0.00088005   0.0365263  -0.00589699\n 2021-08-31   0.00959961   0.0394058   0.00730705\n 2021-09-30   0.0145362    0.0276809   0.014528\n 2021-10-31   0.0567361    0.0425419   0.0261777\n 2021-11-30   0.0540877    0.0383921   0.0174227\n 2021-12-31   0.0431772    0.0366371   0.010848","category":"page"},{"location":"usage/#Calculate-geometric-mean-returns","page":"Usage","title":"Calculate geometric mean returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> gmr = GeometricMeanReturn(returns)\n12×3 TSFrame with Date Index\n Index       TSLA         MSFT       NFLX\n Date        Float64      Float64    Float64\n─────────────────────────────────────────────────\n 2021-01-31   0.124522    0.0428918  -0.0154236\n 2021-02-28  -0.0216179   0.0221449  -0.0017399\n 2021-03-31  -0.0181549   0.0196197  -0.0118967\n 2021-04-30   0.00133649  0.0318919  -0.0128489\n 2021-05-31  -0.0239216   0.0233919  -0.0144363\n 2021-06-30  -0.0062324   0.0334097  -0.00389675\n 2021-07-31  -0.00378386  0.0360053  -0.0062341\n 2021-08-31   0.00522813  0.0389211   0.00643238\n 2021-09-30   0.0105369   0.0266895   0.013546\n 2021-10-31   0.0467153   0.0407506   0.0247227\n 2021-11-30   0.0449633   0.0366852   0.0157142\n 2021-12-31   0.0342267   0.0350585   0.00904634","category":"page"},{"location":"usage/#Calculate-asset-log-returns-from-prices","page":"Usage","title":"Calculate asset log returns from prices","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> log_returns = LogAssetReturn(prices_ts)\n13×3 TSFrame with Date Index\n Index       TSLA             MSFT              NFLX\n Date        Float64?         Float64?          Float64?\n────────────────────────────────────────────────────────────────\n 2020-12-31  missing          missing           missing\n 2021-01-31        0.117358         0.0419975        -0.0155438\n 2021-02-28       -0.161068         0.00180902        0.0120609\n 2021-03-31       -0.0112551        0.0144828        -0.0324212\n 2021-04-30        0.0603075        0.0672864        -0.0158244\n 2021-05-31       -0.126404        -0.00996302       -0.0209792\n 2021-06-30        0.0835505        0.0815697         0.0492816\n 2021-07-31        0.0109742        0.0504236        -0.0203492\n 2021-08-31        0.0682533        0.0578562         0.0950695\n 2021-09-30        0.0526197       -0.0684062         0.0698019\n 2021-10-31        0.362234         0.162366          0.123125\n 2021-11-30        0.0272294       -0.0031108        -0.0727082\n 2021-12-31       -0.079951         0.0171842        -0.0634445","category":"page"},{"location":"usage/#Calculate-cumulative-returns","page":"Usage","title":"Calculate cumulative returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> cum_returns = CumulativeReturn(returns)\n12×3 TSFrame with Date Index\n Index       TSLA      MSFT     NFLX\n Date        Float64   Float64  Float64\n─────────────────────────────────────────\n 2021-01-31  1.12452   1.04289  0.984576\n 2021-02-28  0.957232  1.04478  0.996523\n 2021-03-31  0.946518  1.06002  0.964733\n 2021-04-30  1.00536   1.1338   0.949587\n 2021-05-31  0.885979  1.12256  0.929873\n 2021-06-30  0.963183  1.21797  0.976846\n 2021-07-31  0.973812  1.28095  0.957169\n 2021-08-31  1.0426    1.35725  1.05263\n 2021-09-30  1.09893   1.26751  1.12873\n 2021-10-31  1.57865   1.49096  1.27663\n 2021-11-30  1.62223   1.48633  1.1871\n 2021-12-31  1.49758   1.51209  1.11412","category":"page"},{"location":"usage/#Calculate-Drawdowns","page":"Usage","title":"Calculate Drawdowns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> dd = DrawDowns(returns)\n12×3 TSFrame with Date Index\n Index       TSLA        MSFT         NFLX\n Date        Float64     Float64      Float64\n─────────────────────────────────────────────────\n 2021-01-31   0.0         0.0          0.0\n 2021-02-28  -0.148766    0.0          0.0\n 2021-03-31  -0.158293    0.0         -0.0319013\n 2021-04-30  -0.10597     0.0         -0.0471003\n 2021-05-31  -0.212128   -0.00991355  -0.0668832\n 2021-06-30  -0.143473    0.0         -0.0197458\n 2021-07-31  -0.134021    0.0         -0.0394915\n 2021-08-31  -0.0728517   0.0          0.0\n 2021-09-30  -0.0227591  -0.066119     0.0\n 2021-10-31   0.0         0.0          0.0\n 2021-11-30   0.0        -0.00310596  -0.0701279\n 2021-12-31  -0.0768384   0.0         -0.127291","category":"page"},{"location":"usage/#Calculate-Drawdowns-(Arithmetic-method)","page":"Usage","title":"Calculate Drawdowns (Arithmetic method)","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> arith_dd = ArithmeticDrawDowns(returns)\n12×3 TSFrame with Date Index\n Index       TSLA        MSFT         NFLX\n Date        Float64     Float64      Float64\n─────────────────────────────────────────────────\n 2021-01-31   0.0         0.0          0.0\n 2021-02-28  -0.132292    0.0          0.0\n 2021-03-31  -0.142245    0.0         -0.0320066\n 2021-04-30  -0.0869655   0.0         -0.0477583\n 2021-05-31  -0.192558   -0.00878166  -0.0685875\n 2021-06-30  -0.115068    0.0         -0.0179047\n 2021-07-31  -0.105255    0.0         -0.0381146\n 2021-08-31  -0.0424401   0.0          0.0\n 2021-09-30   0.0        -0.0502712    0.0\n 2021-10-31   0.0         0.0          0.0\n 2021-11-30   0.0        -0.00217898  -0.0555787\n 2021-12-31  -0.0481756   0.0         -0.104299","category":"page"},{"location":"usage/#Calculate-statistical-moments-of-returns","page":"Usage","title":"Calculate statistical moments of returns","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> moments = AssetReturnMoments(returns)\n12×3 TSFrame with Date Index\n Index       TSLA                               MSFT                               NFLX\n Date        Any                                Any                                Any\n─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\n 2021-01-31  (mean = 0.124522, std = NaN, ske…  (mean = 0.0428918, std = NaN, sk…  (mean = -0.0154236, std = NaN, s…\n 2021-02-28  (mean = -0.012122, std = 0.19324…  (mean = 0.0223512, std = 0.02904…  (mean = -0.00164482, std = 0.019…\n 2021-03-31  (mean = -0.011812, std = 0.13664…  (mean = 0.0197636, std = 0.02102…  (mean = -0.0117303, std = 0.0222…\n 2021-04-30  (mean = 0.00668179, std = 0.1175…  (mean = 0.0322231, std = 0.03025…  (mean = -0.0127227, std = 0.0182…\n 2021-05-31  (mean = -0.0184029, std = 0.1162…  (mean = 0.0237958, std = 0.03227…  (mean = -0.0143303, std = 0.0162…\n 2021-06-30  (mean = -0.000812376, std = 0.11…  (mean = 0.0339946, std = 0.03817…  (mean = -0.00352257, std = 0.030…\n 2021-07-31  (mean = 0.00088005, std = 0.1028…  (mean = 0.0365263, std = 0.03548…  (mean = -0.00589699, std = 0.028…\n 2021-08-31  (mean = 0.00959961, std = 0.0983…  (mean = 0.0394058, std = 0.03385…  (mean = 0.00730705, std = 0.0456…\n 2021-09-30  (mean = 0.0145362, std = 0.09317…  (mean = 0.0276809, std = 0.04732…  (mean = 0.014528, std = 0.047843…\n 2021-10-31  (mean = 0.0567361, std = 0.15976…  (mean = 0.0425419, std = 0.06480…  (mean = 0.0261777, std = 0.05823…\n 2021-11-30  (mean = 0.0540877, std = 0.15182…  (mean = 0.0383921, std = 0.06300…  (mean = 0.0174227, std = 0.06241…\n 2021-12-31  (mean = 0.0431772, std = 0.14960…  (mean = 0.0366371, std = 0.06037…  (mean = 0.010848, std = 0.063721…","category":"page"},{"location":"usage/#Calculate-Sharpe-ratio-(from-returns)","page":"Usage","title":"Calculate Sharpe ratio (from returns)","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> sharpe = Sharpe(returns, period = 1)\n12×3 TSFrame with Date Index\n Index       TSLA         MSFT       NFLX\n Date        Float64      Float64    Float64\n────────────────────────────────────────────────\n 2021-01-31   0.124522    0.0428918  -0.0154236\n 2021-02-28  -0.062729    0.769438   -0.0844096\n 2021-03-31  -0.086443    0.940052   -0.527235\n 2021-04-30   0.0568464   1.0649     -0.696214\n 2021-05-31  -0.158339    0.73723    -0.883007\n 2021-06-30  -0.00721917  0.890425   -0.116673\n 2021-07-31   0.00855887  1.02922    -0.208609\n 2021-08-31   0.0976179   1.16409     0.160229\n 2021-09-30   0.156015    0.584873    0.303656\n 2021-10-31   0.355123    0.65647     0.449484\n 2021-11-30   0.356261    0.609396    0.279136\n 2021-12-31   0.288602    0.606824    0.170242","category":"page"},{"location":"usage/#Calculate-Sortino-ratio-(from-returns)","page":"Usage","title":"Calculate Sortino ratio (from returns)","text":"","category":"section"},{"location":"usage/","page":"Usage","title":"Usage","text":"julia> sortino = Sortino(returns)\n12×3 TSFrame with Date Index\n Index       TSLA       MSFT       NFLX\n Date        Float64    Float64    Float64\n───────────────────────────────────────────────\n 2021-01-31   1.97672    0.680887   -0.244842\n 2021-02-28  -0.19243    0.354815   -0.0261106\n 2021-03-31  -1.92754    0.313737  -15.9819\n 2021-04-30   1.09037    0.511526  -21.4069\n 2021-05-31  -4.03861    0.377746  -29.527\n 2021-06-30  -0.17828    0.539648   -7.25811\n 2021-07-31   0.193132   0.579837  -14.0099\n 2021-08-31   2.10669    0.625548   17.3599\n 2021-09-30   3.19005   11.0565     34.5153\n 2021-10-31  12.4511    16.9924     62.1925\n 2021-11-30  11.8698    17.6228     13.163\n 2021-12-31  11.4992    16.8173      7.56288","category":"page"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/#Sample-notebook","page":"Examples","title":"Sample notebook","text":"","category":"section"},{"location":"examples/#Random-prices","page":"Examples","title":"Random prices","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: prices)","category":"page"},{"location":"examples/#Cumulative-returns","page":"Examples","title":"Cumulative returns","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: cum_returns)","category":"page"},{"location":"examples/#Drawdowns","page":"Examples","title":"Drawdowns","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: drawdowns)","category":"page"},{"location":"examples/#Max-Drawdown","page":"Examples","title":"Max Drawdown","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: max drawdown)","category":"page"},{"location":"examples/#Returns","page":"Examples","title":"Returns","text":"","category":"section"},{"location":"examples/#Yearly","page":"Examples","title":"Yearly","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: yearly_returns)","category":"page"},{"location":"examples/#Monthly","page":"Examples","title":"Monthly","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: monthly_returns_heatmap)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: monthly_returns_spiral)","category":"page"},{"location":"examples/#Download","page":"Examples","title":"Download","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Pluto notebook","category":"page"},{"location":"#OnlinePortfolioAnalytics.jl","page":"Home","title":"OnlinePortfolioAnalytics.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This project aims to provide users with functionality for performing quantitative portfolio analytics via online algorithms.","category":"page"},{"location":"","page":"Home","title":"Home","text":"It depends especially on OnlineStatsBase.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"It's inspired by the following projects:","category":"page"},{"location":"","page":"Home","title":"Home","text":"Julia\nPortfolioAnalytics.jl\nR\nPerformanceAnalytics\nPortfolioAnalytics\nPython\npyfolio\nempyrical","category":"page"},{"location":"#Disclaimer-–-No-Investment-Advice","page":"Home","title":"⚠️ Disclaimer – No Investment Advice","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"OnlinePortfolioAnalytics.jl is an open-source library provided \"as-is\" for educational and informational purposes only.","category":"page"},{"location":"","page":"Home","title":"Home","text":"It does not constitute investment advice, brokerage services, or a recommendation to buy or sell any financial instrument.\nAll trading involves substantial risk; past performance is not indicative of future results. You may lose some or all of your capital.\nBy using OnlinePortfolioAnalytics.jl you acknowledge that you alone are responsible for your trading decisions and agree that the OnlinePortfolioAnalytics.jl maintainers and contributors will not be liable for any loss or damage arising from the use of this software.\nConsult a qualified financial professional before deploying live capital.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Open Julia command line interface. ","category":"page"},{"location":"#Stable-version","page":"Home","title":"Stable version","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Type ] add OnlinePortfolioAnalytics","category":"page"},{"location":"#Development-version","page":"Home","title":"Development version","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Type ] dev https://github.com/femtotrader/OnlinePortfolioAnalytics.jl/","category":"page"},{"location":"#Usage","page":"Home","title":"Usage","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"See unit tests","category":"page"},{"location":"","page":"Home","title":"Home","text":"🚧 This software is under construction. API can have breaking changes.","category":"page"},{"location":"#Contents","page":"Home","title":"Contents","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Pages = [\n    \"index.md\",\n    \"usage.md\",\n    \"examples.md\",\n    \"api.md\"\n]","category":"page"}]
}
